@tailwind base;
@tailwind components;
@tailwind utilities;

/* BFEAI Brand Color System */
:root {
  /* shadcn/ui CSS Variables (required by @bfeai/ui) */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 262 45% 34%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 220 9% 35%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 262 45% 34%;
  --radius: 0.5rem;

  /* Sidebar CSS Variables (for @bfeai/ui Sidebar component) */
  --sidebar-background: 0 0% 100%;
  --sidebar-foreground: 222.2 84% 4.9%;
  --sidebar-primary: 231 47% 44%;
  --sidebar-primary-foreground: 210 40% 98%;
  --sidebar-accent: 210 40% 96.1%;
  --sidebar-accent-foreground: 222.2 47.4% 11.2%;
  --sidebar-border: 214.3 31.8% 91.4%;
  --sidebar-ring: 231 47% 44%;

  /* Brand Colors (shared across ecosystem) */
  --brand-purple: #533577;
  --brand-indigo: #454D9A;
  --brand-teal: #255C85;

  /* Background colors (legacy hex for existing components) */
  --background-hex: #ffffff;
  --background-secondary: #F9FAFB;
  --background-tertiary: #f5f7fa;

  /* Text colors with perfect hierarchy (legacy hex) - WCAG AA compliant */
  --foreground-hex: #111827;
  --foreground-secondary: #374151;
  --foreground-tertiary: #4B5563;
  --foreground-muted: #4B5563;

  /* Primary brand colors - Indigo for Accounts app (legacy hex) */
  --primary-hex: #454D9A;
  --primary-hover: #3a4085;
  --primary-light: #E0E2F0;
  --primary-gradient: linear-gradient(135deg, #5a62a8 0%, #454D9A 100%);

  /* Accent colors - matches primary for Accounts app (legacy hex) */
  --accent-hex: #454D9A;
  --accent-hover: #3a4085;
  --accent-light: #E0E2F0;

  /* Success, warning, error */
  --success: #10b981;
  --success-light: #d1fae5;
  --warning: #f59e0b;
  --warning-light: #fef3c7;
  --error: #ef4444;
  --error-light: #fee2e2;

  /* Border colors (legacy hex) */
  --border-hex: #e2e8f0;
  --border-light: #f1f5f9;
  --border-dark: #cbd5e1;

  /* Shadow system */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

  /* Premium shadow with brand color */
  --shadow-primary: 0 4px 14px 0 rgba(69, 77, 154, 0.15);
  --shadow-accent: 0 4px 14px 0 rgba(69, 77, 154, 0.15);

  /* Animation timings */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.dark {
  /* shadcn/ui CSS Variables (required by @bfeai/ui) */
  --background: 0 0% 6%;
  --foreground: 210 40% 98%;
  --card: 0 0% 6%;
  --card-foreground: 210 40% 98%;
  --popover: 0 0% 6%;
  --popover-foreground: 210 40% 98%;
  --primary: 262 45% 34%;
  --primary-foreground: 210 40% 98%;
  --secondary: 0 0% 10%;
  --secondary-foreground: 210 40% 98%;
  --muted: 0 0% 10%;
  --muted-foreground: 215 20% 65%;
  --accent: 0 0% 10%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 63% 31%;
  --destructive-foreground: 210 40% 98%;
  --border: 0 0% 18%;
  --input: 0 0% 18%;
  --ring: 262 45% 34%;

  /* Sidebar CSS Variables (for @bfeai/ui Sidebar component) - Dark Mode */
  --sidebar-background: 0 0% 6%;
  --sidebar-foreground: 210 40% 98%;
  --sidebar-primary: 231 47% 44%;
  --sidebar-primary-foreground: 210 40% 98%;
  --sidebar-accent: 0 0% 12%;
  --sidebar-accent-foreground: 210 40% 98%;
  --sidebar-border: 0 0% 18%;
  --sidebar-ring: 231 47% 44%;

  /* Legacy hex values - BFEAI Brand Guide compliant */
  --background-hex: #0F0F0F;
  --background-secondary: #1A1A1A;
  --background-tertiary: #252525;

  /* Text colors - BFEAI Brand Guide compliant - WCAG AA compliant */
  --foreground-hex: #F9FAFB;
  --foreground-secondary: #D1D5DB;
  --foreground-tertiary: #9CA3AF;
  --foreground-muted: #9CA3AF;

  /* Border colors - BFEAI Brand Guide compliant */
  --border-hex: #2E2E2E;
  --border-light: #1A1A1A;
  --border-dark: #404040;

  /* Success colors for dark mode */
  --success: #34d399;
  --success-light: #065f46;

  /* Error colors for dark mode */
  --error: #f87171;
  --error-light: #451a1a;

  /* Adjusted shadows for dark mode */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 8px 10px -6px rgba(0, 0, 0, 0.3);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  --shadow-primary: 0 4px 14px 0 rgba(69, 77, 154, 0.25);
  --shadow-accent: 0 4px 14px 0 rgba(69, 77, 154, 0.25);
}

/* Premium Font Loading */
@layer base {
  /* Modern, professional font stack */
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: var(--foreground);
    background: var(--background);
    font-feature-settings: 'cv11', 'ss01';
    font-variation-settings: 'opsz' 32;
  }

  /* Match sidebar font to keywords/labs system font stack for uniformity */
  [data-sidebar="sidebar"] {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: auto;
    -moz-osx-font-smoothing: auto;
    font-feature-settings: normal;
    font-variation-settings: normal;
  }

  /* Typography hierarchy - BFEAI Brand Guide compliant */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    letter-spacing: -0.025em;
    line-height: 1.2;
    color: var(--foreground);
  }

  h1 { font-size: 2.25rem; }   /* 36px - Brand spec */
  h2 { font-size: 1.875rem; }  /* 30px - Brand spec */
  h3 { font-size: 1.5rem; }    /* 24px - Brand spec */
  h4 { font-size: 1.25rem; }   /* 20px - Brand spec */
  h5 { font-size: 1.125rem; }  /* 18px */
  h6 { font-size: 1rem; }      /* 16px */
}

/* Premium Component Styles */
@layer components {
  /* Smooth transitions for all interactive elements */
  .premium-transition {
    transition-property: all;
    transition-timing-function: var(--ease-out);
    transition-duration: var(--duration-normal);
  }

  /* Glassmorphism effect */
  .glass-effect {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  /* Premium card hover effect */
  .premium-card-hover {
    transition: all var(--duration-normal) var(--ease-out);
  }

  .premium-card-hover:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  /* Focus ring with brand color */
  .premium-focus-ring:focus-visible {
    outline: none;
    ring: 2px;
    ring-color: var(--primary);
    ring-offset: 2px;
  }
}

/* Premium Animations */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Fade in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn var(--duration-normal) var(--ease-out);
  }

  /* Slide up animation */
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slideUp var(--duration-slow) var(--ease-out);
  }

  /* Scale in animation */
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-scale-in {
    animation: scaleIn var(--duration-normal) var(--ease-out);
  }

  /* Shimmer loading effect */
  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  .animate-shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
  }

  /* Pulse animation - using brand Indigo */
  @keyframes pulse-ring {
    0% {
      transform: scale(0.95);
      box-shadow: 0 0 0 0 rgba(69, 77, 154, 0.7);
    }
    70% {
      transform: scale(1);
      box-shadow: 0 0 0 10px rgba(69, 77, 154, 0);
    }
    100% {
      transform: scale(0.95);
      box-shadow: 0 0 0 0 rgba(69, 77, 154, 0);
    }
  }

  .animate-pulse-ring {
    animation: pulse-ring 2s infinite;
  }

  /* Gradient animation */
  @keyframes gradient-shift {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
  }

  /* Staggered animation delays */
  .animate-delay-100 {
    animation-delay: 100ms;
  }

  .animate-delay-200 {
    animation-delay: 200ms;
  }

  .animate-delay-300 {
    animation-delay: 300ms;
  }

  .animate-delay-400 {
    animation-delay: 400ms;
  }
}

/* Premium scrollbar */
@layer base {
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--border-dark) var(--background);
  }

  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: var(--background);
  }

  *::-webkit-scrollbar-thumb {
    background: var(--border-dark);
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: var(--foreground-tertiary);
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
